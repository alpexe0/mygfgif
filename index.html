 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/index.html b/index.html
index 328c16b788f6cec9ce14f8785d436453a82766cb..70438cec8105fc87bdd846e3abbea1cdfeb420ad 100644
--- a/index.html
+++ b/index.html
@@ -214,76 +214,143 @@
       <div class="card" id="giftCard">
         <div class="face front">
           <div class="ribbon">Nisam'a Ã¶zel</div>
           <div>
             <div class="gc-amount">â€œBugÃ¼n seni Ã¼zdÃ¼ÄŸÃ¼m iÃ§in Ã¶zÃ¼r dilerim.â€</div>
             <div class="gc-note">Seni Ã¼zmek istemedim. Seni Ã§ok seviyorum birtanem. â€” Alp</div>
             <div class="gc-date">â™¡ 09.03.2022</div>
           </div>
         </div>
       </div>
 
 <!-- Affetme Mini Oyunu -->
 <div id="forgiveGame" style="margin-top:16px; display:none; text-align:center; font-size:14px; opacity:.95;">
   <div style="margin-bottom:10px;">Beni affettin mi? ğŸ¤</div>
   <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
     <button id="yesForgive" style="background:linear-gradient(135deg,#8bffb0,#4df89f);color:#000;">Affettim ğŸ’—</button>
     <button id="notYet" style="background:linear-gradient(135deg,#ffb3b3,#ff7a7a);color:#000;">Biraz zaman... ğŸŒ™</button>
   </div>
 </div>
 <!-- End -->
 
 <!-- (A&N watermark removed) -->
 
 
 
-<!-- Arka plan mÃ¼ziÄŸi: Yerel MP3 (Ã¶nerilen) -->
-<!-- Repo kÃ¶kÃ¼ne music.mp3 yÃ¼kle. Ä°sim tam olarak 'music.mp3' olsun. -->
-<audio id="bgm" src="music.mp3" preload="auto" loop playsinline></audio>
+<!-- Arka plan mÃ¼ziÄŸi: yerel MP3 (sessiz tutucu) -->
+<!-- music.mp3 dosyasÄ± sessiz; gerÃ§ek ses WebAudio ile Ã¼retilecek -->
+<audio id="bgm" preload="auto" loop playsinline>
+  <source src="music.mp3" type="audio/mpeg" />
+</audio>
 
 <script>
   // Buttons & elements
   const btn = document.getElementById('toggle');
   const lily = document.querySelector('.lily');
-  const musicBtn = document.getElementById('music');
-  const bgm = document.getElementById('bgm');
-  let bgmStarted = false;
+  const musicBtn = document.getElementById('music');
+  const bgm = document.getElementById('bgm');
+  let bgmStarted = false;
+  let audioCtx = null;
+  let ambientSource = null;
+  let ambientGain = null;
+  let ambientBuffer = null;
   // Haptic helper (mobile titreÅŸim)
   function haptic(kind='tap'){
     if(!('vibrate' in navigator)) return;
     const map={tap:[18], soft:[8], success:[12,8,12], heavy:[30]};
     navigator.vibrate(map[kind]||[15]);
   }
   // Gift elements
   const openGiftBtn = document.getElementById('openGift');
   const giftWrap = document.getElementById('giftWrap');
   const giftCard = document.getElementById('giftCard');
-  async function startBgm(){
-    if(bgmStarted) return; bgmStarted = true;
-    try{ await bgm.play(); musicBtn.textContent='MÃ¼zik Ã‡alÄ±yor ğŸµ'; musicBtn.disabled=true; haptic('success'); }
-    catch(e){ musicBtn.textContent='MÃ¼ziÄŸi BaÅŸlat (izin ver)'; bgmStarted=false; }
-  }
+  function buildAmbientBuffer(ctx){
+    const duration = 18;
+    const rate = ctx.sampleRate;
+    const buffer = ctx.createBuffer(1, rate*duration, rate);
+    const data = buffer.getChannelData(0);
+    let seed = 0;
+    for(let i=0;i<data.length;i++){
+      const t = i/rate;
+      const env = Math.sin(Math.PI * (i/data.length));
+      const bass = Math.sin(2*Math.PI*96*t + Math.sin(2*Math.PI*0.12*t)*0.4)*0.28;
+      const mid = Math.sin(2*Math.PI*220*t + Math.sin(2*Math.PI*0.07*t)*0.6)*0.24;
+      const shimmer = Math.sin(2*Math.PI*440*t + Math.sin(2*Math.PI*0.04*t+0.6))*0.18;
+      seed = (seed * 16807 + 1) % 2147483647;
+      const noise = ((seed/2147483647)*2-1);
+      const pad = (bass + mid + shimmer) * env + noise*0.025*env;
+      data[i] = pad;
+    }
+    return buffer;
+  }
+
+  async function ensureAmbient(){
+    const AC = window.AudioContext || window.webkitAudioContext;
+    if(!AC) throw new Error('AudioContext desteklenmiyor');
+    if(!audioCtx) audioCtx = new AC();
+    if(audioCtx.state === 'suspended') await audioCtx.resume();
+    if(!ambientBuffer) ambientBuffer = buildAmbientBuffer(audioCtx);
+    if(!ambientGain){
+      ambientGain = audioCtx.createGain();
+      ambientGain.gain.value = 0.22;
+      ambientGain.connect(audioCtx.destination);
+    }
+    if(ambientSource){
+      try{ ambientSource.stop(); }catch{}
+      ambientSource.disconnect();
+    }
+    ambientSource = audioCtx.createBufferSource();
+    ambientSource.buffer = ambientBuffer;
+    ambientSource.loop = true;
+    ambientSource.connect(ambientGain);
+    ambientSource.start();
+  }
+
+  async function startBgm(){
+    if(bgmStarted) return;
+    bgmStarted = true;
+    try{ await bgm.play(); }
+    catch(e){ /* sessiz mp3 otomatik Ã§almayÄ± reddedebilir */ }
+    try{
+      await ensureAmbient();
+      musicBtn.textContent='MÃ¼zik Ã‡alÄ±yor ğŸµ';
+      musicBtn.disabled=true;
+      haptic('success');
+    }catch(err){
+      console.warn('Arka plan mÃ¼ziÄŸi baÅŸlatÄ±lamadÄ±', err);
+      musicBtn.textContent='MÃ¼ziÄŸi BaÅŸlat (bloklandÄ±)';
+      musicBtn.disabled=false;
+      bgmStarted=false;
+    }
+  }
+
+  document.addEventListener('visibilitychange', ()=>{
+    if(!ambientGain) return;
+    const target = document.hidden ? 0.0001 : 0.22;
+    const now = audioCtx ? audioCtx.currentTime : 0;
+    ambientGain.gain.setTargetAtTime(target, now, 0.6);
+  });
   musicBtn.addEventListener('click', startBgm);
   // Mobile autoplay fixer: ilk dokunuÅŸta baÅŸlatmayÄ± dene
   const firstTouch = ()=>{ startBgm(); document.removeEventListener('touchend', firstTouch); document.removeEventListener('click', firstTouch); };
   document.addEventListener('touchend', firstTouch, {once:true});
   document.addEventListener('click', firstTouch, {once:true});
 
   // BaÅŸlat/Durdur dÃ¼ÄŸmesi
   btn.addEventListener('click', ()=>{
     lily.classList.toggle('cycle');
     btn.textContent = lily.classList.contains('cycle') ? 'Durdur' : 'BaÅŸlat';
     if (lily.classList.contains('cycle')) heartBurst();
   });
 
   // Heart burst when starting
 
   // Metin dÃ¶ngÃ¼sÃ¼ + sayaÃ§lar
   const quoteEl = document.getElementById('quote');
   const sinceEl = document.getElementById('since');
   const nextEl = document.getElementById('next');
 
   const quotes = [
     'â€œKalbim, adÄ±nÄ± ezberledi.â€',
     'â€œSen gÃ¼lÃ¼nce, gece mora boyanÄ±yor.â€',
     'â€œYanÄ±mda olman dÃ¼nyayÄ± kolaylaÅŸtÄ±rÄ±yor.â€'
   ];
 
EOF
)
